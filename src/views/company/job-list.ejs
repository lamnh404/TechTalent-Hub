<%- include('../partials/header', { title: 'My Job Posts' }) %>

<body class="dashboard-page">
    <div class="dashboard-wrapper">
        
        <%- include('../partials/dashboard-sidebar', { activePage: 'my-jobs' }) %>

        <main class="main-content">
            
            <header class="dashboard-header">
                <h5 class="mb-0 font-weight-bold text-dark">My Job Posts</h5>
                <div class="d-flex align-items-center">
                    <div class="dropdown">
                        <a href="#" class="d-flex align-items-center text-decoration-none text-dark dropdown-toggle" data-toggle="dropdown">
                            <img src="<%= (user && user.avatarUrl) ? user.avatarUrl : '/images/default-avatar.png' %>" class="rounded-circle mr-2" width="35" height="35" style="object-fit: cover; border: 1px solid #dee2e6;">
                            <span class="font-weight-bold small mr-1">
                                <%= (user && user.email) ? user.email.split('@')[0] : 'Company' %>
                            </span>
                        </a>
                        <div class="dropdown-menu dropdown-menu-right border-0 shadow-lg">
                            <a class="dropdown-item" href="/">Back Home</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item text-danger" href="/auth/logout">Logout</a>
                        </div>
                    </div>
                </div>
            </header>

            <div class="p-4">
                
                <div class="card border-0 shadow-sm mb-4">
                    <div class="card-body d-flex flex-column flex-md-row justify-content-between align-items-center p-3">
                        <div class="d-flex align-items-center mb-3 mb-md-0">
                            <div class="input-group mr-3" style="width: 300px;">
                                <div class="input-group-prepend">
                                    <span class="input-group-text bg-light border-0 pl-3"><i class="fas fa-search text-muted"></i></span>
                                </div>
                                <input type="text" class="form-control bg-light border-0" placeholder="Search jobs...">
                            </div>
                            <select class="form-control-modern border-0 bg-light" style="width: 150px; height: 38px;">
                                <option>All Status</option>
                                <option>Open</option>
                                <option>Closed</option>
                            </select>
                        </div>
                        <a href="/company/jobs/create" class="btn btn-primary-modern shadow-sm py-2 px-4 text-white font-weight-bold text-decoration-none">
                            <i class="fas fa-plus mr-2"></i> Post New Job
                        </a>
                    </div>
                </div>

                <div class="custom-table-wrapper">
                    <table class="table custom-table table-hover">
                        <thead>
                            <tr>
                                <th style="width: 40%;">Job Title</th>
                                <th>Posted Date</th>
                                <th>Deadline</th>
                                <th class="text-center">Applicants</th>
                                <th class="text-center">Status</th>
                                <th class="text-right">Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <div class="font-weight-bold text-dark">Senior React Developer</div>
                                    <small class="text-muted">Full-time &bull; Ho Chi Minh</small>
                                </td>
                                <td>Oct 24, 2025</td>
                                <td>Nov 30, 2025</td>
                                <td class="text-center">
                                    <span class="badge badge-pill badge-light border px-3">15</span>
                                </td>
                                <td class="text-center">
                                    <span class="badge badge-soft-success px-2 py-1" style="background:#dcfce7; color:#166534; font-size: 0.75rem;">Open</span>
                                </td>
                                <td class="text-right">
                                    <button class="btn btn-sm btn-light text-primary mr-1" title="Edit"><i class="fas fa-edit"></i></button>
                                    <button class="btn btn-sm btn-light text-muted mr-1" title="Close Job"><i class="fas fa-archive"></i></button>
                                    <button class="btn btn-sm btn-light text-danger" title="Delete"><i class="fas fa-trash"></i></button>
                                </td>
                            </tr>

                            <tr>
                                <td>
                                    <div class="font-weight-bold text-dark">Backend Node.js Engineer</div>
                                    <small class="text-muted">Remote</small>
                                </td>
                                <td>Oct 20, 2025</td>
                                <td>Nov 20, 2025</td>
                                <td class="text-center">
                                    <span class="badge badge-pill badge-light border px-3">8</span>
                                </td>
                                <td class="text-center">
                                    <span class="badge badge-soft-secondary px-2 py-1" style="background:#f3f4f6; color:#4b5563; font-size: 0.75rem;">Closed</span>
                                </td>
                                <td class="text-right">
                                    <button class="btn btn-sm btn-light text-primary mr-1"><i class="fas fa-edit"></i></button>
                                    <button class="btn btn-sm btn-light text-success mr-1" title="Reopen"><i class="fas fa-sync-alt"></i></button>
                                    <button class="btn btn-sm btn-light text-danger"><i class="fas fa-trash"></i></button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <nav class="mt-4">
                    <ul class="pagination justify-content-end">
                        <li class="page-item disabled"><a class="page-link border-0 text-muted" href="#">Previous</a></li>
                        <li class="page-item active"><a class="page-link border-0 rounded shadow-sm" href="#">1</a></li>
                        <li class="page-item"><a class="page-link border-0 text-muted" href="#">2</a></li>
                        <li class="page-item"><a class="page-link border-0 text-muted" href="#">Next</a></li>
                    </ul>
                </nav>

            </div>
        </main>
    </div>
    <%- include('../partials/footer') %>
</body>